import React, { Component } from 'react';
import Form from 'react-bootstrap/Form'
var axios = require('axios')
const divStyle = {
    margin: '40px',
    width: '500px',
    height: '300px'
  };export class Logs extends Component {
    constructor(props){
        super(props)
        this.state = {value: "", type: this.props.type}
    }
    getLogs(){
        var _this = this
        if(this.state.type == "metasploit"){
        axios.get('/logs?type=metasploit')
          .then(function (response) {
            _this.setState({value: response.data.text})
            })
          .catch(function (error) {
            //console.log(error);
          });
        } else{
          axios.get('/logs?type=general')
          .then(function (response) {
            _this.setState({value: response.data.text})
            })
          .catch(function (error) {
            //console.log(error);
          });
        }
    }
    render() {
      this.getLogs()
       return (
          <div>
              <Form.Group controlId="exampleForm.ControlTextarea1">
                {this.state.type == "metasploit" ? <Form.Label>Metasploit Logs</Form.Label> : <Form.Label>General Logs</Form.Label>}
                <Form.Control as="textarea" rows="3" readOnly value={this.state.value}/>
              </Form.Group>
          </div>
       )
    }
}